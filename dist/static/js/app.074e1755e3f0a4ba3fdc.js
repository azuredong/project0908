webpackJsonp([1],{"/Hv2":function(t,e){},Jo24:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),n=a("BO1k"),s=a.n(n),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.$route.path,router:""}},[a("el-menu-item",{attrs:{index:"/"}},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/axiosDemo"}},[a("i",{staticClass:"el-icon-document"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("打开二级页面示例")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/others"}},[a("i",{staticClass:"el-icon-document"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("其他菜单")])])],1)],1)},staticRenderFns:[]},r={name:"app",components:{AppNav:a("VU/8")({data:function(){return{}},mounted:function(){"/"!==this.$route.path&&-1==this.$route.path.indexOf("movie")?(this.$store.commit("addTabs",{route:"/",name:"首页"}),this.$store.commit("addTabs",{route:this.$route.path,name:this.$route.name}),this.$store.commit("setActiveIndex",this.$route.path)):(this.$store.commit("addTabs",{route:"/",name:"首页"}),this.$store.commit("setActiveIndex","/"),this.$router.push("/"))},computed:{tabs:function(){return this.$store.state.tabs}}},o,!1,null,null,null).exports},methods:{tabClick:function(t){var e=this.activeIndex;"/movies"===this.activeIndex&&(e=this.activeIndex+"/"+this.$store.state.movieDetail.title),this.$router.push({path:e})},tabRemove:function(t){"/"!=t&&(this.$store.commit("removeTabs",t),this.activeIndex===t&&(this.tabs&&this.tabs.length>=1?(this.$store.commit("setActiveIndex",this.tabs[this.tabs.length-1].route),this.$router.push({path:this.activeIndex})):this.$router.push({path:"/"})))}},computed:{tabs:function(){return this.$store.state.tabs},activeIndex:{get:function(){return this.$store.state.activeIndex},set:function(t){this.$store.commit("setActiveIndex",t)}}},watch:{$route:function(t){var e=!1,a=!0,i=!1,n=void 0;try{for(var o,r=s()(this.tabs);!(a=(o=r.next()).done);a=!0){if(o.value.name===t.name){e=!0,this.$store.commit("setActiveIndex","/"+t.path.split("/")[1]);break}}}catch(t){i=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}e||(this.$store.commit("addTabs",{route:"/"+t.path.split("/")[1],name:t.name}),this.$store.commit("setActiveIndex","/"+t.path.split("/")[1]))}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),a("div",{staticClass:"app-content"},[a("div",{staticClass:"app-nav"},[a("app-nav")],1),t._v(" "),a("div",{staticClass:"app-wrap"},[a("div",{staticClass:"template-tabs"},[t.tabs.length?a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":t.tabClick,"tab-remove":t.tabRemove},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.tabs,function(t){return a("el-tab-pane",{key:t.name,attrs:{label:t.name,name:t.route}})})):t._e()],1),t._v(" "),a("div",{staticClass:"content-wrap"},[a("router-view")],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-header"},[e("div",{staticClass:"title"},[this._v("tab切换示例")])])}]};var c=a("VU/8")(r,l,!1,function(t){a("S0Pf")},null,null).exports,u=a("/ocq"),d={data:function(){return{isIndex:!1}},created:function(){},watch:{$route:function(t){console.log(t),"首页"==t.name?this.isIndex=!0:this.isIndex=!1}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("\n  "+this._s(this.$route.name)+"\n  "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.isIndex,expression:"isIndex"}]},[e("h3",[this._v("一个简单demo")]),this._v(" "),e("p",[this._v("导航栏和tab联动，切换tab即切换路由，使用vuex实现组件通信")])])])},staticRenderFns:[]};var v=a("VU/8")(d,h,!1,function(t){a("Jo24")},null,null).exports,m={data:function(){return{tableData:this.tableData,loading:!0}},created:function(){this.initData()},methods:{handleEdit:function(t,e){this.$store.commit("setDetail",e),this.$router.push({path:"/movies/"+e.title})},handleDelete:function(t,e){this.tableData.splice(t,1)},initData:function(){var t=this;this.$ajax.get("/api/movie/in_theaters").then(function(e){t.tableData=e.data.subjects,t.loading=!1}).catch(function(t){console.log(t)})}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"title",label:"影片名",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rating.average",label:"评分",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("详情")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)},staticRenderFns:[]},f=a("VU/8")(m,p,!1,null,null,null).exports,b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[e("span",[this._v(this._s(this.movieDetail.title))]),this._v("的详情页面")])])},staticRenderFns:[]};var x=a("VU/8")({data:function(){return{}},components:{},mounted:function(){},methods:{},computed:{movieDetail:function(){return this.$store.state.movieDetail}},watch:{}},b,!1,function(t){a("yF9W")},null,null).exports;i.default.use(u.a);var _=new u.a({routes:[{path:"/",name:"首页",component:v},{path:"/axiosDemo",name:"打开二级页面示例",component:f},{path:"/others",name:"其他菜单",component:v},{path:"/movies/:id",name:"影片详情",component:x},{path:"*",redirect:"/"}]}),$=a("t+b9"),I=a.n($),w=(a("/Hv2"),a("9rMa"));i.default.use(w.a);var D=new w.a.Store({state:{tabs:[],activeIndex:"/axiosDemo",movieDetail:{}},mutations:{addTabs:function(t,e){this.state.tabs.push(e)},removeTabs:function(t,e){var a=0,i=!0,n=!1,o=void 0;try{for(var r,l=s()(t.tabs);!(i=(r=l.next()).done);i=!0){if(r.value.route===e)break;a++}}catch(t){n=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw o}}this.state.tabs.splice(a,1)},setActiveIndex:function(t,e){this.state.activeIndex=e},setDetail:function(t,e){this.state.movieDetail=e}}}),y=a("aozt"),g=a.n(y);i.default.prototype.$ajax=g.a,i.default.config.productionTip=!1,i.default.use(I.a),new i.default({el:"#app",router:_,store:D,template:"<App/>",components:{App:c}})},S0Pf:function(t,e){},yF9W:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.074e1755e3f0a4ba3fdc.js.map